{
  "cosmos-installer": {
    "form": [
      {
        "name": "adminOnly",
        "label": "Do you want to make this service admin only?",
        "initialValue": true,
        "type": "checkbox"
      },
      {
        "name": "notifiarrApiKey",
        "label": "Enter your Notifiarr API Key",
        "initialValue": "",
        "type": "text"
      },
      {
        "name": "lidarr",
        "name-container": "lidarr-name",
        "label": "Where is you Lidarr instance? (leave blank if none)",
        "type": "container"
      },
      {
        "name": "lidarrApiKey",
        "label": "What is your Lidarr API Key? (leave blank if none)",
        "initialValue": "",
        "type": "text"
      },
      {
        "name": "lidarrUser",
        "label": "What is your Lidarr User? (leave blank if none)",
        "initialValue": "",
        "type": "text"
      },
      {
        "name": "lidarrPassword",
        "label": "What is your Lidarr Password? (leave blank if none)",
        "initialValue": "",
        "type": "text"
      },
      {
        "name": "prowlarr",
        "name-container": "prowlarr-name",
        "label": "Where is you Prowlarr instance? (leave blank if none)",
        "type": "container"
      },
      {
        "name": "prowlarrApiKey",
        "label": "What is your Prowlarr API Key? (leave blank if none)",
        "initialValue": "",
        "type": "text"
      },
      {
        "name": "prowlarrUser",
        "label": "What is your Prowlarr User? (leave blank if none)",
        "initialValue": "",
        "type": "text"
      },
      {
        "name": "prowlarrPassword",
        "label": "What is your Prowlarr Password? (leave blank if none)",
        "initialValue": "",
        "type": "text"
      },
      {
        "name": "radarr",
        "name-container": "radarr-name",
        "label": "Where is you Radarr instance? (leave blank if none)",
        "type": "container"
      },
      {
        "name": "radarrApiKey",
        "label": "What is your Radarr API Key? (leave blank if none)",
        "initialValue": "",
        "type": "text"
      },
      {
        "name": "radarrUser",
        "label": "What is your Radarr User? (leave blank if none)",
        "initialValue": "",
        "type": "text"
      },
      {
        "name": "radarrPassword",
        "label": "What is your Radarr Password? (leave blank if none)",
        "initialValue": "",
        "type": "text"
      },
      {
        "name": "readarr",
        "name-container": "readarr-name",
        "label": "Where is you Readarr instance? (leave blank if none)",
        "type": "container"
      },
      {
        "name": "readarrApiKey",
        "label": "What is your Readarr API Key? (leave blank if none)",
        "initialValue": "",
        "type": "text"
      },
      {
        "name": "readarrUser",
        "label": "What is your Readarr User? (leave blank if none)",
        "initialValue": "",
        "type": "text"
      },
      {
        "name": "readarrPassword",
        "label": "What is your Readarr Password? (leave blank if none)",
        "initialValue": "",
        "type": "text"
      },
      {
        "name": "sonarr",
        "name-container": "sonarr-name",
        "label": "Where is you Sonarr instance? (leave blank if none)",
        "type": "container"
      },
      {
        "name": "sonarrApiKey",
        "label": "What is your Sonarr API Key? (leave blank if none)",
        "initialValue": "",
        "type": "text"
      },
      {
        "name": "sonarrUser",
        "label": "What is your Sonarr User? (leave blank if none)",
        "initialValue": "",
        "type": "text"
      },
      {
        "name": "sonarrPassword",
        "label": "What is your Sonarr Password? (leave blank if none)",
        "initialValue": "",
        "type": "text"
      },
      {
        "name": "qbittorrent",
        "name-container": "qbittorrent-name",
        "label": "Where is you QbitTorrent instance? (leave blank if none)",
        "type": "container"
      },
      {
        "name": "qbittorrentUser",
        "label": "What is your QbitTorrent User? (leave blank if none)",
        "initialValue": "",
        "type": "text"
      },
      {
        "name": "qbittorrentPassword",
        "label": "What is your QbitTorrent Password? (leave blank if none)",
        "initialValue": "",
        "type": "text"
      },
      {
        "name": "rtorrent",
        "name-container": "rtorrent-name",
        "label": "Where is you RTorrent instance? (leave blank if none)",
        "type": "container"
      },
      {
        "name": "rtorrentUser",
        "label": "What is your RTorrent User? (leave blank if none)",
        "initialValue": "",
        "type": "text"
      },
      {
        "name": "rtorrentPassword",
        "label": "What is your RTorrent Password? (leave blank if none)",
        "initialValue": "",
        "type": "text"
      },
      {
        "name": "sabnzbd",
        "name-container": "sabnzbd-name",
        "label": "Where is you SABnzbd instance? (leave blank if none)",
        "type": "container"
      },
      {
        "name": "sabnzbdApiKey",
        "label": "What is your SABnzbd API Key? (leave blank if none)",
        "initialValue": "",
        "type": "text"
      },
      {
        "name": "deluge",
        "name-container": "deluge-name",
        "label": "Where is you Deluge instance? (leave blank if none)",
        "type": "container"
      },
      {
        "name": "delugePassword",
        "label": "What is your Deluge Password? (leave blank if none)",
        "initialValue": "",
        "type": "text"
      },
      {
        "name": "nzbget",
        "name-container": "nzbget-name",
        "label": "Where is you NZBGet instance? (leave blank if none)",
        "type": "container"
      },
      {
        "name": "nzbgetUser",
        "label": "What is your NZBGet User? (leave blank if none)",
        "initialValue": "",
        "type": "text"
      },
      {
        "name": "nzbgetPassword",
        "label": "What is your NZBGet Password? (leave blank if none)",
        "initialValue": "",
        "type": "text"
      },
      {
        "name": "plex",
        "name-container": "plex-name",
        "label": "Where is you Plex instance? (leave blank if none)",
        "type": "container"
      },
      {
        "name": "plexToken",
        "label": "What is your Plex Token? (leave blank if none)",
        "initialValue": "",
        "type": "text"
      },
      {
        "name": "tautulli",
        "name-container": "tautulli-name",
        "label": "Where is you Tautulli instance? (leave blank if none)",
        "type": "container"
      },
      {
        "name": "tautulliApiKey",
        "label": "What is your Tautulli API Key? (leave blank if none)",
        "initialValue": "",
        "type": "text"
      }
    ]
  },
  "minVersion": "0.8.4",
  "services": {
    "{ServiceName}": {
      "image": "golift/notifiarr:latest",
      "container_name": "{ServiceName}",
      "restart": "unless-stopped",
      "hostname": "cosmos-{ServiceName}",
      "privileged": true,
      "environment": [
        "TZ=auto",
        "DN_API_KEY={Context.notifiarrApiKey}",
        "DN_URLBASE=/",
        "DN_LOG_FILE=/config/app.log",
        "DN_HTTP_LOG=/config/http.log"
        {if Context.lidarr}
        , "DN_LIDARR_0_NAME={Context.lidarr-name}",
          "DN_LIDARR_0_URL=http://{Context.lidarr-name}:8686",
          "DN_LIDARR_0_API_KEY={Context.lidarrApiKey}",
          "DN_LIDARR_0_USERNAME={Context.lidarrUser}",
          "DN_LIDARR_0_PASSWORD={Context.lidarrPassword}"
        {/if}
        {if Context.prowlarr}
        , "DN_PROWLARR_0_NAME={Context.prowlarr-name}",
          "DN_PROWLARR_0_URL=http://{Context.prowlarr-name}:9696",
          "DN_PROWLARR_0_API_KEY={Context.prowlarrApiKey}",
          "DN_PROWLARR_0_USERNAME={Context.prowlarrUser}",
          "DN_PROWLARR_0_PASSWORD={Context.prowlarrPassword}"
        {/if}
        {if Context.radarr}
        , "DN_RADARR_0_NAME={Context.radarr-name}",
          "DN_RADARR_0_URL=http://{Context.radarr-name}:7878",
          "DN_RADARR_0_API_KEY={Context.radarrApiKey}",
          "DN_RADARR_0_USERNAME={Context.radarrUser}",
          "DN_RADARR_0_PASSWORD={Context.radarrPassword}"
        {/if}
        {if Context.readarr}
        , "DN_READARR_0_NAME={Context.readarr-name}",
          "DN_READARR_0_URL=http://{Context.readarr-name}:8787",
          "DN_READARR_0_API_KEY={Context.readarrApiKey}",
          "DN_READARR_0_USERNAME={Context.readarrUser}",
          "DN_READARR_0_PASSWORD={Context.readarrPassword}"
        {/if}
        {if Context.sonarr}
        , "DN_SONARR_0_NAME={Context.sonarr-name}",
          "DN_SONARR_0_URL=http://{Context.sonarr-name}:8989",
          "DN_SONARR_0_API_KEY={Context.sonarrApiKey}",
          "DN_SONARR_0_USERNAME={Context.sonarrUser}",
          "DN_SONARR_0_PASSWORD={Context.sonarrPassword}"
        {/if}
        {if Context.qbittorrent}
        , "DN_QBIT_0_NAME={Context.qbittorrent-name}",
          "DN_QBIT_0_URL=http://{Context.qbittorrent-name}:8080",
          "DN_QBIT_0_USER={Context.qbittorrentUser}",
          "DN_QBIT_0_PASS={Context.qbittorrentPassword}"
        {/if}
        {if Context.rtorrent}
        , "DN_RTORRENT_0_NAME={Context.rtorrent-name}",
          "DN_RTORRENT_0_URL=http://{Context.rtorrent-name}:5000",
          "DN_RTORRENT_0_USER={Context.rtorrentUser}",
          "DN_RTORRENT_0_PASS={Context.rtorrentPassword}"
        {/if}
        {if Context.sabnzbd}
        , "DN_SABNZBD_0_NAME={Context.sabnzbd-name}",
          "DN_SABNZBD_0_URL=http://{Context.sabnzbd-name}:8080",
          "DN_SABNZBD_0_API_KEY={Context.sabnzbdApiKey}"
        {/if}
        {if Context.deluge}
        , "DN_DELUGE_0_NAME={Context.deluge-name}",
          "DN_DELUGE_0_URL=http://{Context.deluge-name}:8112",
          "DN_DELUGE_0_PASSWORD={Context.delugePassword}"
        {/if}
        {if Context.nzbget}
        , "DN_NZBGET_0_NAME={Context.nzbget-name}",
          "DN_NZBGET_0_URL=http://{Context.nzbget-name}:6789",
          "DN_NZBGET_0_USER={Context.nzbgetUser}",
          "DN_NZBGET_0_PASS={Context.nzbgetPassword}"
        {/if}
        {if Context.plex}
        , "DN_PLEX_URL=http://{Context.plex-name}:32400",
          "DN_PLEX_TOKEN={Context.plexToken}"
        {/if}
        {if Context.tautulli}
        , "DN_TAUTULLI_NAME={Context.tautulli-name}",
          "DN_TAUTULLI_URL=http://{Context.tautulli-name}:8181",
          "DN_TAUTULLI_API_KEY={Context.tautulliApiKey}"
        {/if}
      ],
      "labels": {
        "cosmos-force-network-secured": "true",
        "cosmos-auto-update": "true",
        "cosmos-persistent-env": "DN_LIDARR_0_NAME, DN_LIDARR_0_URL, DN_LIDARR_0_API_KEY, DN_LIDARR_0_USERNAME, DN_LIDARR_0_PASSWORD",
        "cosmos-icon": "https://azukaar.github.io/cosmos-servapps-official/servapps/Notifiarr/icon.png"
      },
      "volumes": [
        {
          "source": "{ServiceName}-config",
          "target": "/config",
          "type": "volume"
        },
        {
          "source": "/dev/sda",
          "target": "/storage/1",
          "type": "bind"
        },
        {
          "source": "/var/run/utmp",
          "target": "/var/run/utmp",
          "type": "bind"
        },
        {
          "source": "/etc/machine-id",
          "target": "/etc/machine-id",
          "type": "bind"
        }
    ],
      "routes": [
        {
          "name": "{ServiceName}",
          "description": "Expose {ServiceName} to the web",
          "useHost": true,
          "target": "http://{ServiceName}:5454",
          "mode": "SERVAPP",
          "Timeout": 14400000,
          "ThrottlePerMinute": 12000,
          "BlockCommonBots": true,
          "SmartShield": {
            "Enabled": true
          },
          "AuthEnabled": true
          {if Context.adminOnly}
           , "AuthAdmin": true
          {/if}
        }
      ]
      , "links": [
        {if Context.lidarr}
          "{Context.lidarr-name}"
        {/if}
        {if Context.prowlarr}
        , "{Context.prowlarr-name}"
        {/if}
        {if Context.radarr}
        , "{Context.radarr-name}"
        {/if}
        {if Context.readarr}
        , "{Context.readarr-name}"
        {/if}
        {if Context.sonarr}
        , "{Context.sonarr-name}"
        {/if}
        {if Context.qbittorrent}
        , "{Context.qbittorrent-name}"
        {/if}
        {if Context.rtorrent}
        , "{Context.rtorrent-name}"
        {/if}
        {if Context.sabnzbd}
        , "{Context.sabnzbd-name}"
        {/if}
        {if Context.deluge}
        , "{Context.deluge-name}"
        {/if}
        {if Context.nzbget}
        , "{Context.nzbget-name}"
        {/if}
        {if Context.plex}
        , "{Context.plex-name}"
        {/if}
      ]
    }
  }
}